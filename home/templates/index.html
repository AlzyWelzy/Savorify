{% extends 'base.html' %} {% block content %}

<header>
  <h1 class="text-center">Savorify</h1>
</header>

<main class="container mt-4">
  <form id="recipeForm" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <label for="recipeName">Recipe Name</label>
    <input
      type="text"
      id="recipeName"
      class="form-control"
      placeholder="Enter recipe name"
      name="recipe_name"
      required
    />

    <label for="recipeDescription">Recipe Description</label>
    <textarea
      id="recipeDescription"
      class="form-control"
      rows="3"
      placeholder="Enter recipe description"
      name="recipe_description"
      required
    ></textarea>

    <label for="recipeImage">Recipe Image URL</label>
    <input
      type="file"
      id="recipeImage"
      class="form-control"
      placeholder="Enter image URL"
      name="recipe_image"
      required
    />

    <button type="submit" class="btn btn-primary mt-3 w-100">Submit</button>
  </form>

  <section>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Name</th>
          <th scope="col">Description</th>
          <th scope="col">Image</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for recipe in recipes %}
        <tr>
          <th scope="row">{{forloop.counter}}</th>
          <td>{{recipe.recipe_name}}</td>
          <td>{{recipe.recipe_description}}</td>
          <td>
            <img
              src="{{recipe.recipe_image.url}}"
              alt="{{recipe.recipe_name}}"
              width="100"
              height="100"
            />
          </td>
          <td>
            <a
              href="{% url 'delete_recipe' recipe.id %}"
              class="btn btn-danger btn-sm"
              >Delete</a
            >
            <a
              href="{% url 'update_recipe' recipe.id %}"
              class="btn btn-primary btn-sm"
              >Update</a
            >
          </td>
        </tr>

        {% endfor %}
      </tbody>
    </table>
  </section>
</main>

<footer class="text-center mt-auto">
  <p>&copy; {{year}} Savorify. All rights reserved.</p>
</footer>
{% endblock %}
